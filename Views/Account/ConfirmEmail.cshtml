@{
    ViewData["Title"] = "Xác nhận Email";
    Layout = "~/Views/Shared/Account/_AccountLayout.cshtml";
}

<div class="account-container">
    <div class="account-box text-center">
        @if (ViewBag.IsSuccess == true)
        {
            <div class="success-animation">
                <div class="checkmark">
                    <div class="checkmark_stem"></div>
                    <div class="checkmark_kick"></div>
                </div>
            </div>
            <h2 class="mt-4 text-success">Xác nhận Email thành công!</h2>
            <p class="mt-3 text-muted">@ViewBag.Message</p>
            <div class="mt-4">
                <a asp-controller="Account" asp-action="Login" class="btn btn-primary btn-lg px-4">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Đăng nhập ngay
                </a>
            </div>
        }
        else
        {
            <div class="error-animation">
                <i class="bi bi-x-circle text-danger" style="font-size: 5rem;"></i>
            </div>
            <h2 class="mt-4 text-danger">Xác nhận Email thất bại</h2>
            <p class="mt-3 text-muted">@ViewBag.Message</p>
            <div class="mt-4">
                <p class="text-muted">Vui lòng thử lại hoặc yêu cầu gửi lại email xác nhận.</p>
                <form asp-action="ResendConfirmationEmail" method="post" class="mt-3">
                    <div class="form-group mb-3">
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="bi bi-envelope"></i>
                            </span>
                            <input type="email" name="email" class="form-control" placeholder="Nhập địa chỉ email của bạn" required />
                        </div>
                    </div>
                    <button type="submit" class="btn btn-outline-primary">
                        <i class="bi bi-send me-2"></i>Gửi lại email xác nhận
                    </button>
                </form>
            </div>
        }

        <div class="mt-4">
            <a asp-controller="Home" asp-action="Index" class="text-decoration-none">
                <i class="bi bi-house me-1"></i>Về trang chủ
            </a>
        </div>
    </div>
</div>

<style>
    .success-animation {
        margin: 20px auto;
    }

    .checkmark {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: block;
        stroke-width: 2;
        stroke: #4bb71b;
        stroke-miterlimit: 10;
        box-shadow: inset 0px 0px 0px #4bb71b;
        animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
        position: relative;
        margin: 0 auto;
        background: #4bb71b;
    }

    .checkmark_stem {
        width: 8px;
        height: 30px;
        background-color: #fff;
        position: absolute;
        left: 38px;
        top: 16px;
        transform: rotate(45deg);
    }

    .checkmark_kick {
        width: 20px;
        height: 8px;
        background-color: #fff;
        position: absolute;
        left: 22px;
        top: 38px;
        transform: rotate(45deg);
    }

    .error-animation {
        animation: shake 0.5s ease-in-out;
    }

    @@keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
    }

    @@keyframes fill {
        100% { box-shadow: inset 0px 0px 0px 50px #4bb71b; }
    }

    @@keyframes scale {
        0%, 100% { transform: none; }
        50% { transform: scale3d(1.1, 1.1, 1); }
    }

    .account-box {
        max-width: 500px;
        margin: 0 auto;
        padding: 2rem;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }

    .btn-lg {
        padding: 12px 24px;
        font-size: 1.1rem;
    }

    .input-group-text {
        background-color: #f8f9fa;
    }
</style>

@section Styles {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
}
